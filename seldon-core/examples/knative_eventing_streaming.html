<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../_static/javascripts/modernizr.js"></script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-54780881-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'UA-54780881-2');
</script>
  
  
    <title>Seldon Core Real Time Stream Processing with KNative Eventing &#8212; seldon-core  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=83e35b93" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css?v=79c92029" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/rtd_sphinx_search.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />
    <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=15a8f09d" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/rtd_search_config.js"></script>
    <script src="../_static/js/rtd_sphinx_search.min.js"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Seldon Kafka Integration Example with CIFAR10 Model" href="cifar10_kafka.html" />
    <link rel="prev" title="Seldon deployment of Alibi Outlier detector" href="outlier_combiner.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=indigo data-md-color-accent=teal>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#examples/knative_eventing_streaming" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="seldon-core  documentation"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Seldon Core Documentation</span>
          <span class="md-header-nav__topic"> Seldon Core Real Time Stream Processing with KNative Eventing </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder=""Search""
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/SeldonIO/seldon-core/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Seldon Core
  </div>
</a>
          </div>
        </div>
      
      
    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="/" class="md-tabs__link">ğŸš€ Our Other Projects & Products:</a></li>
            
            <li class="md-tabs__item"><a href="https://docs.seldon.io/projects/alibi/en/stable/" class="md-tabs__link">Alibi Explain</a></li>
            
            <li class="md-tabs__item"><a href="https://docs.seldon.io/projects/alibi-detect/en/stable/" class="md-tabs__link">Alibi Detect</a></li>
            
            <li class="md-tabs__item"><a href="https://mlserver.readthedocs.io/en/latest/" class="md-tabs__link">MLServer</a></li>
            
            <li class="md-tabs__item"><a href="https://tempo.readthedocs.io/en/latest/" class="md-tabs__link">Tempo SDK</a></li>
            
            <li class="md-tabs__item"><a href="https://deploy.seldon.io" class="md-tabs__link">Seldon Enterprise Platform</a></li>
            
            <li class="md-tabs__item"><a href="https://github.com/SeldonIO/seldon-deploy-sdk#seldon-deploy-sdk" class="md-tabs__link">Seldon Enterprise Platform SDK</a></li>
          <li class="md-tabs__item"><a href="../nav/tutorials.html" class="md-tabs__link">æ•™ç¨‹</a></li>
          <li class="md-tabs__item"><a href="notebooks.html" class="md-tabs__link">ç¬”è®°æœ¬</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="seldon-core documentation" class="md-nav__button md-logo">
      
        <img src="../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="seldon-core documentation">Seldon Core Documentation</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/SeldonIO/seldon-core/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Seldon Core
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../nav/getting-started.html" class="md-nav__link">å¼€å§‹</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../nav/concepts.html" class="md-nav__link">æ¦‚å¿µ</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../nav/configuration.html" class="md-nav__link">é…ç½®</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../nav/tutorials.html" class="md-nav__link">æ•™ç¨‹</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="notebooks.html" class="md-nav__link">ç¬”è®°æœ¬</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#seldon-core" class="md-nav__link">Seldon Core è®¾ç½®</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#id2" class="md-nav__link">é¢„åŒ…è£…æ¨ç†æœåŠ¡ç¤ºä¾‹</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#python" class="md-nav__link">Python è¯­è¨€å°è£…ç¤ºä¾‹</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#id3" class="md-nav__link">ä¸“é—¨çš„æ¡†æ¶ç¤ºä¾‹</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#id4" class="md-nav__link">å­µåŒ–é¡¹ç›®ç¤ºä¾‹</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#id5" class="md-nav__link">åŸºäºäº‘çš„åŸºç¡€ç¤ºä¾‹</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#id6" class="md-nav__link">é«˜çº§æœºå™¨å­¦ä¹ ç›‘æ§</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#id7" class="md-nav__link">Seldon Core æ‰¹å¤„ç†</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#mlops" class="md-nav__link">MLOps: æ‰©å±•ã€ç›‘æ§å’Œå¯è§‚å¯Ÿæ€§</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#id8" class="md-nav__link">ç”Ÿäº§é…ç½®åŠå®ç°</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#ab" class="md-nav__link">AB æµ‹è¯•åŠæ¸è¿›å¼éƒ¨ç½²</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#id9" class="md-nav__link">å¤æ‚å›¾ç¤ºä¾‹</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#id10" class="md-nav__link">å…¥å£</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#id11" class="md-nav__link">åŸºç¡€è®¾æ–½</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#id12" class="md-nav__link">åŸºå‡†æµ‹è¯•å’Œè´Ÿè½½æµ‹è¯•</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="notebooks.html#id13" class="md-nav__link">å‡çº§ç¤ºä¾‹</a>
      
    
    </li></ul>
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../nav/reference.html" class="md-nav__link">å‚è€ƒ</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../nav/contributing.html" class="md-nav__link">è´¡çŒ®</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">"Contents"</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#examples-knative-eventing-streaming--page-root" class="md-nav__link">Seldon Core Real Time Stream Processing with KNative Eventing</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#Pre-requisites" class="md-nav__link">Pre-requisites</a>
        </li>
        <li class="md-nav__item"><a href="#Deploy-your-Seldon-Model" class="md-nav__link">Deploy your Seldon Model</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#Run-the-model-in-our-cluster" class="md-nav__link">Run the model in our cluster</a>
        </li>
        <li class="md-nav__item"><a href="#Check-that-the-model-has-been-deployed" class="md-nav__link">Check that the model has been deployed</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#Create-a-Trigger-to-reach-our-model" class="md-nav__link">Create a Trigger to reach our model</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#Create-trigger-configuration" class="md-nav__link">Create trigger configuration</a>
        </li>
        <li class="md-nav__item"><a href="#Send-a-request-to-the-KNative-Eventing-default-broker" class="md-nav__link">Send a request to the KNative Eventing default broker</a>
        </li>
        <li class="md-nav__item"><a href="#Check-our-model-has-received-it" class="md-nav__link">Check our model has received it</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#Connect-a-source-to-listen-to-the-results-of-the-seldon-model" class="md-nav__link">Connect a source to listen to the results of the seldon model</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#First-create-the-service-that-willl-print-the-results" class="md-nav__link">First create the service that willl print the results</a>
        </li>
        <li class="md-nav__item"><a href="#Now-run-the-event-display-resources" class="md-nav__link">Now run the event display resources</a>
        </li>
        <li class="md-nav__item"><a href="#Check-that-the-event-display-has-been-deployed" class="md-nav__link">Check that the event display has been deployed</a>
        </li>
        <li class="md-nav__item"><a href="#Create-trigger-for-event-display" class="md-nav__link">Create trigger for event display</a>
        </li>
        <li class="md-nav__item"><a href="#Apply-that-trigger" class="md-nav__link">Apply that trigger</a>
        </li>
        <li class="md-nav__item"><a href="#Check-our-triggers-are-correctly-set-up" class="md-nav__link">Check our triggers are correctly set up</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#Send-a-couple-of-requests-more" class="md-nav__link">Send a couple of requests more</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#Visualise-the-requests-that-come-from-the-service" class="md-nav__link">Visualise the requests that come from the service</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../_sources/examples/knative_eventing_streaming.nblink.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <div class="admonition note">
<p>This page was generated from <a class="reference external" href="https://github.com/SeldonIO/seldon-core/blob/e665e4994eabf83fb43c68a5f85e96d5c45e91b5/examples/streaming/knative-eventing/README.ipynb">examples/streaming/knative-eventing/README.ipynb</a>.</p>
</div>
<section id="Seldon-Core-Real-Time-Stream-Processing-with-KNative-Eventing">
<h1 id="examples-knative-eventing-streaming--page-root">Seldon Core Real Time Stream Processing with KNative Eventing<a class="headerlink" href="#examples-knative-eventing-streaming--page-root" title="Permalink to this heading">Â¶</a></h1>
<p>In this example we will show how you can enable real time stream processing in Seldon Core by leveraging the KNative Eventing integration.</p>
<p>In this example we will deploy a simple model containerised with Seldon Core and we will leverage the basic Seldon Core integration with KNative Eventing which will allow us to connect it so it can receive cloud events as requests and return a cloudevent-enabled response which can be collected by other components.</p>
<section id="Pre-requisites">
<h2 id="Pre-requisites">Pre-requisites<a class="headerlink" href="#Pre-requisites" title="Permalink to this heading">Â¶</a></h2>
<p>You will require the following in order to go ahead: * Istio 1.42+ Installed (<a class="reference external" href="https://istio.io/latest/docs/setup/install/">Documentation Instructions</a>) * KNative Eventing 0.13 installed (<a class="reference external" href="https://knative.dev/docs/admin/install/">Documentation Instructions</a>) * Seldon Core v1.1+ installed with Istio Ingress Enabled (<a class="reference external" href="https://docs.seldon.io/projects/seldon-core/en/latest/workflow/install.html#ingress-support">Documentation Instructions</a>)</p>
</section>
<section id="Deploy-your-Seldon-Model">
<h2 id="Deploy-your-Seldon-Model">Deploy your Seldon Model<a class="headerlink" href="#Deploy-your-Seldon-Model" title="Permalink to this heading">Â¶</a></h2>
<p>We will first deploy our model using Seldon Core. In this case weâ€™ll use one of the <a class="reference external" href="https://docs.seldon.io/projects/seldon-core/en/latest/servers/overview.html">pre-packaged model servers</a>.</p>
<p>We first createa configuration file:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> ./assets/simple-iris-deployment.yaml

<span class="n">apiVersion</span><span class="p">:</span> <span class="n">machinelearning</span><span class="o">.</span><span class="n">seldon</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">SeldonDeployment</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">iris</span><span class="o">-</span><span class="n">deployment</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">predictors</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">graph</span><span class="p">:</span>
      <span class="n">implementation</span><span class="p">:</span> <span class="n">SKLEARN_SERVER</span>
      <span class="n">modelUri</span><span class="p">:</span> <span class="n">gs</span><span class="p">:</span><span class="o">//</span><span class="n">seldon</span><span class="o">-</span><span class="n">models</span><span class="o">/</span><span class="n">v1</span><span class="mf">.14.0</span><span class="o">/</span><span class="n">sklearn</span><span class="o">/</span><span class="n">iris</span>
      <span class="n">name</span><span class="p">:</span> <span class="n">simple</span><span class="o">-</span><span class="n">iris</span><span class="o">-</span><span class="n">model</span>
      <span class="n">children</span><span class="p">:</span> <span class="p">[]</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">default</span>
    <span class="n">replicas</span><span class="p">:</span> <span class="mi">1</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Overwriting ./assets/simple-iris-deployment.yaml
</pre></div></div>
</div>
<section id="Run-the-model-in-our-cluster">
<h3 id="Run-the-model-in-our-cluster">Run the model in our cluster<a class="headerlink" href="#Run-the-model-in-our-cluster" title="Permalink to this heading">Â¶</a></h3>
<p>Now we run the Seldon Deployment configuration file we just created.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>assets/simple-iris-deployment.yaml
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
seldondeployment.machinelearning.seldon.io/iris-deployment created
</pre></div></div>
</div>
</section>
<section id="Check-that-the-model-has-been-deployed">
<h3 id="Check-that-the-model-has-been-deployed">Check that the model has been deployed<a class="headerlink" href="#Check-that-the-model-has-been-deployed" title="Permalink to this heading">Â¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>iris
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
iris-deployment-default-0-simple-iris-model-65697469fb-b4dhs      2/2     Running     0          25s
</pre></div></div>
</div>
</section>
</section>
<section id="Create-a-Trigger-to-reach-our-model">
<h2 id="Create-a-Trigger-to-reach-our-model">Create a Trigger to reach our model<a class="headerlink" href="#Create-a-Trigger-to-reach-our-model" title="Permalink to this heading">Â¶</a></h2>
<p>We want to create a trigger that is able to reach directly to the service.</p>
<p>We will be using the following seldon deployment:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>get<span class="w"> </span>sdep<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>iris
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
iris-deployment       21s
</pre></div></div>
</div>
<section id="Create-trigger-configuration">
<h3 id="Create-trigger-configuration">Create trigger configuration<a class="headerlink" href="#Create-trigger-configuration" title="Permalink to this heading">Â¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> ./assets/seldon-knative-trigger.yaml

<span class="n">apiVersion</span><span class="p">:</span> <span class="n">eventing</span><span class="o">.</span><span class="n">knative</span><span class="o">.</span><span class="n">dev</span><span class="o">/</span><span class="n">v1beta1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Trigger</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">seldon</span><span class="o">-</span><span class="n">eventing</span><span class="o">-</span><span class="n">sklearn</span><span class="o">-</span><span class="n">trigger</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">broker</span><span class="p">:</span> <span class="n">default</span>
  <span class="nb">filter</span><span class="p">:</span>
    <span class="n">attributes</span><span class="p">:</span>
      <span class="nb">type</span><span class="p">:</span> <span class="n">seldon</span><span class="o">.</span><span class="n">iris</span><span class="o">-</span><span class="n">deployment</span><span class="o">.</span><span class="n">default</span><span class="o">.</span><span class="n">request</span>
  <span class="n">subscriber</span><span class="p">:</span>
    <span class="n">ref</span><span class="p">:</span>
      <span class="n">apiVersion</span><span class="p">:</span> <span class="n">machinelearning</span><span class="o">.</span><span class="n">seldon</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">v1</span>
      <span class="n">kind</span><span class="p">:</span> <span class="n">SeldonDeployment</span>
      <span class="n">name</span><span class="p">:</span> <span class="n">iris</span><span class="o">-</span><span class="n">deployment</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Overwriting ./assets/seldon-knative-trigger.yaml
</pre></div></div>
</div>
<p>Create this trigger file which will send all cloudevents of type <code class="docutils literal notranslate"><span class="pre">"seldon.&lt;deploymentName&gt;.request"</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>assets/seldon-knative-trigger.yaml
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
trigger.eventing.knative.dev/seldon-eventing-sklearn-trigger created
</pre></div></div>
</div>
<p>CHeck that the trigger is working correctly (you should see â€œReady: Trueâ€), together with the URL that will be reached.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>get<span class="w"> </span>trigger
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
NAME                              READY   REASON   BROKER    SUBSCRIBER_URI                                                                       AGE
event-display                     True             default   http://event-display.default.svc.cluster.local/                                      9d
seldon-eventing-sklearn-trigger   True             default   http://iris-deployment-default.default.svc.cluster.local:8000/api/v1.0/predictions   18m
</pre></div></div>
</div>
</section>
<section id="Send-a-request-to-the-KNative-Eventing-default-broker">
<h3 id="Send-a-request-to-the-KNative-Eventing-default-broker">Send a request to the KNative Eventing default broker<a class="headerlink" href="#Send-a-request-to-the-KNative-Eventing-default-broker" title="Permalink to this heading">Â¶</a></h3>
<p>To send requests we can do so by sending a curl command from a pod inside of the cluster.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>run<span class="w"> </span>--quiet<span class="o">=</span><span class="nb">true</span><span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>curl<span class="w"> </span>--image<span class="o">=</span>radial/busyboxplus:curl<span class="w"> </span>--restart<span class="o">=</span>Never<span class="w"> </span>--<span class="w"> </span><span class="err">\</span>
    <span class="n">curl</span> <span class="o">-</span><span class="n">v</span> <span class="s2">"default-broker.default.svc.cluster.local"</span> \
        <span class="o">-</span><span class="n">H</span> <span class="s2">"Ce-Id: 536808d3-88be-4077-9d7a-a3f162705f79"</span> \
        <span class="o">-</span><span class="n">H</span> <span class="s2">"Ce-specversion: 0.3"</span> \
        <span class="o">-</span><span class="n">H</span> <span class="s2">"Ce-Type: seldon.iris-deployment.default.request"</span> \
        <span class="o">-</span><span class="n">H</span> <span class="s2">"Ce-Source: seldon.examples.streaming.curl"</span> \
        <span class="o">-</span><span class="n">H</span> <span class="s2">"Content-Type: application/json"</span> \
        <span class="o">-</span><span class="n">d</span> <span class="s1">'{"data": { "ndarray": [[1,2,3,4]]}}'</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&gt; POST / HTTP/1.1
&gt; User-Agent: curl/7.35.0
&gt; Host: default-broker.default.svc.cluster.local
&gt; Accept: */*
&gt; Ce-Id: 536808d3-88be-4077-9d7a-a3f162705f79
&gt; Ce-specversion: 0.3
&gt; Ce-Type: seldon.iris-deployment.default.request
&gt; Ce-Source: seldon.examples.streaming.curl
&gt; Content-Type: application/json
&gt; Content-Length: 35
&gt;
&lt; HTTP/1.1 202 Accepted
&lt; Content-Length: 0
&lt; Date: Fri, 27 Mar 2020 17:17:14 GMT
&lt;
</pre></div></div>
</div>
</section>
<section id="Check-our-model-has-received-it">
<h3 id="Check-our-model-has-received-it">Check our model has received it<a class="headerlink" href="#Check-our-model-has-received-it" title="Permalink to this heading">Â¶</a></h3>
<p>We can do this by checking the logs (we can query the logs through the service name) and see that the request has been processed</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>logs<span class="w"> </span>svc/iris-deployment-default<span class="w"> </span>simple-iris-model<span class="w"> </span><span class="p">|</span><span class="w"> </span>tail<span class="w"> </span>-6
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
2020-03-27 17:16:36,681 - werkzeug:_log:122 - INFO:   * Running on http://0.0.0.0:9000/ (Press CTRL+C to quit)
2020-03-27 17:17:14,228 - SKLearnServer:predict:37 - INFO:  Calling predict_proba
2020-03-27 17:17:14,231 - werkzeug:_log:122 - INFO:  127.0.0.1 - - [27/Mar/2020 17:17:14] "<span class="ansi-white-fg">POST /predict HTTP/1.1</span>" 200 -
</pre></div></div>
</div>
</section>
</section>
<section id="Connect-a-source-to-listen-to-the-results-of-the-seldon-model">
<h2 id="Connect-a-source-to-listen-to-the-results-of-the-seldon-model">Connect a source to listen to the results of the seldon model<a class="headerlink" href="#Connect-a-source-to-listen-to-the-results-of-the-seldon-model" title="Permalink to this heading">Â¶</a></h2>
<p>Our Seldon Model is producing results which are sent back to KNative.</p>
<p>This means that we can connect other subsequent services through a trigger that filters for those response cloudevents.</p>
<section id="First-create-the-service-that-willl-print-the-results">
<h3 id="First-create-the-service-that-willl-print-the-results">First create the service that willl print the results<a class="headerlink" href="#First-create-the-service-that-willl-print-the-results" title="Permalink to this heading">Â¶</a></h3>
<p>This is just a simple pod that prints all the request data into the console.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> ./assets/event-display-deployment.yaml

<span class="c1"># event-display app deploment</span>
<span class="n">apiVersion</span><span class="p">:</span> <span class="n">apps</span><span class="o">/</span><span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Deployment</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">event</span><span class="o">-</span><span class="n">display</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">replicas</span><span class="p">:</span> <span class="mi">1</span>
  <span class="n">selector</span><span class="p">:</span>
    <span class="n">matchLabels</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">labels</span>
      <span class="n">app</span><span class="p">:</span> <span class="n">event</span><span class="o">-</span><span class="n">display</span>
  <span class="n">template</span><span class="p">:</span>
    <span class="n">metadata</span><span class="p">:</span>
      <span class="n">labels</span><span class="p">:</span> <span class="o">*</span><span class="n">labels</span>
    <span class="n">spec</span><span class="p">:</span>
      <span class="n">containers</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">helloworld</span><span class="o">-</span><span class="n">python</span>
          <span class="n">image</span><span class="p">:</span> <span class="n">gcr</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">knative</span><span class="o">-</span><span class="n">releases</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">knative</span><span class="o">/</span><span class="n">eventing</span><span class="o">-</span><span class="n">sources</span><span class="o">/</span><span class="n">cmd</span><span class="o">/</span><span class="n">event_display</span>
<span class="o">---</span>
<span class="c1"># Service that exposes event-display app.</span>
<span class="c1"># This will be the subscriber for the Trigger</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Service</span>
<span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">event</span><span class="o">-</span><span class="n">display</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">selector</span><span class="p">:</span>
    <span class="n">app</span><span class="p">:</span> <span class="n">event</span><span class="o">-</span><span class="n">display</span>
  <span class="n">ports</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">protocol</span><span class="p">:</span> <span class="n">TCP</span>
      <span class="n">port</span><span class="p">:</span> <span class="mi">80</span>
      <span class="n">targetPort</span><span class="p">:</span> <span class="mi">8080</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Overwriting ./assets/event-display-deployment.yaml
</pre></div></div>
</div>
</section>
<section id="Now-run-the-event-display-resources">
<h3 id="Now-run-the-event-display-resources">Now run the event display resources<a class="headerlink" href="#Now-run-the-event-display-resources" title="Permalink to this heading">Â¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>assets/event-display-deployment.yaml
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
deployment.apps/event-display unchanged
service/event-display unchanged
</pre></div></div>
</div>
</section>
<section id="Check-that-the-event-display-has-been-deployed">
<h3 id="Check-that-the-event-display-has-been-deployed">Check that the event display has been deployed<a class="headerlink" href="#Check-that-the-event-display-has-been-deployed" title="Permalink to this heading">Â¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>event
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
event-display-7c69959598-txxdg                                    1/1     Running     0          6d14h
</pre></div></div>
</div>
</section>
<section id="Create-trigger-for-event-display">
<h3 id="Create-trigger-for-event-display">Create trigger for event display<a class="headerlink" href="#Create-trigger-for-event-display" title="Permalink to this heading">Â¶</a></h3>
<p>We now can create a trigger that sends all the requests of the type and source created by the seldon deployment to our event display pod</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> ./assets/event-display-trigger.yaml

<span class="c1"># Trigger to send events to service above</span>
<span class="n">apiVersion</span><span class="p">:</span> <span class="n">eventing</span><span class="o">.</span><span class="n">knative</span><span class="o">.</span><span class="n">dev</span><span class="o">/</span><span class="n">v1alpha1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Trigger</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">event</span><span class="o">-</span><span class="n">display</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">broker</span><span class="p">:</span> <span class="n">default</span>
  <span class="nb">filter</span><span class="p">:</span>
    <span class="n">attributes</span><span class="p">:</span>
      <span class="nb">type</span><span class="p">:</span> <span class="n">seldon</span><span class="o">.</span><span class="n">iris</span><span class="o">-</span><span class="n">deployment</span><span class="o">.</span><span class="n">default</span><span class="o">.</span><span class="n">response</span>
      <span class="n">source</span><span class="p">:</span> <span class="n">seldon</span><span class="o">.</span><span class="n">iris</span><span class="o">-</span><span class="n">deployment</span>
  <span class="n">subscriber</span><span class="p">:</span>
    <span class="n">ref</span><span class="p">:</span>
      <span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
      <span class="n">kind</span><span class="p">:</span> <span class="n">Service</span>
      <span class="n">name</span><span class="p">:</span> <span class="n">event</span><span class="o">-</span><span class="n">display</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Overwriting ./assets/event-display-trigger.yaml
</pre></div></div>
</div>
</section>
<section id="Apply-that-trigger">
<h3 id="Apply-that-trigger">Apply that trigger<a class="headerlink" href="#Apply-that-trigger" title="Permalink to this heading">Â¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>assets/event-display-trigger.yaml
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
trigger.eventing.knative.dev/event-display configured
</pre></div></div>
</div>
</section>
<section id="Check-our-triggers-are-correctly-set-up">
<h3 id="Check-our-triggers-are-correctly-set-up">Check our triggers are correctly set up<a class="headerlink" href="#Check-our-triggers-are-correctly-set-up" title="Permalink to this heading">Â¶</a></h3>
<p>We now should see the event trigger available.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>get<span class="w"> </span>trigger
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
NAME                              READY   REASON   BROKER    SUBSCRIBER_URI                                                                       AGE
event-display                     True             default   http://event-display.default.svc.cluster.local/                                      9d
seldon-eventing-sklearn-trigger   True             default   http://iris-deployment-default.default.svc.cluster.local:8000/api/v1.0/predictions   18m
</pre></div></div>
</div>
</section>
</section>
<section id="Send-a-couple-of-requests-more">
<h2 id="Send-a-couple-of-requests-more">Send a couple of requests more<a class="headerlink" href="#Send-a-couple-of-requests-more" title="Permalink to this heading">Â¶</a></h2>
<p>We can use the same process we outlined above to send a couple more events.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>run<span class="w"> </span>--quiet<span class="o">=</span><span class="nb">true</span><span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>curl<span class="w"> </span>--image<span class="o">=</span>radial/busyboxplus:curl<span class="w"> </span>--restart<span class="o">=</span>Never<span class="w"> </span>--<span class="w"> </span><span class="err">\</span>
    <span class="n">curl</span> <span class="o">-</span><span class="n">v</span> <span class="s2">"default-broker.default.svc.cluster.local"</span> \
        <span class="o">-</span><span class="n">H</span> <span class="s2">"Ce-Id: 536808d3-88be-4077-9d7a-a3f162705f79"</span> \
        <span class="o">-</span><span class="n">H</span> <span class="s2">"Ce-Specversion: 0.3"</span> \
        <span class="o">-</span><span class="n">H</span> <span class="s2">"Ce-Type: seldon.iris-deployment.default.request"</span> \
        <span class="o">-</span><span class="n">H</span> <span class="s2">"Ce-Source: dev.knative.samples/helloworldsource"</span> \
        <span class="o">-</span><span class="n">H</span> <span class="s2">"Content-Type: application/json"</span> \
        <span class="o">-</span><span class="n">d</span> <span class="s1">'{"data": { "ndarray": [[1,2,3,4]]}}'</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&gt; POST / HTTP/1.1
&gt; User-Agent: curl/7.35.0
&gt; Host: default-broker.default.svc.cluster.local
&gt; Accept: */*
&gt; Ce-Id: 536808d3-88be-4077-9d7a-a3f162705f79
&gt; Ce-Specversion: 0.3
&gt; Ce-Type: seldon.iris-deployment.default.request
&gt; Ce-Source: dev.knative.samples/helloworldsource
&gt; Content-Type: application/json
&gt; Content-Length: 35
&gt;
&lt; HTTP/1.1 202 Accepted
&lt; Content-Length: 0
&lt; Date: Fri, 27 Mar 2020 17:20:42 GMT
&lt;
</pre></div></div>
</div>
<section id="Visualise-the-requests-that-come-from-the-service">
<h3 id="Visualise-the-requests-that-come-from-the-service">Visualise the requests that come from the service<a class="headerlink" href="#Visualise-the-requests-that-come-from-the-service" title="Permalink to this heading">Â¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kubectl<span class="w"> </span>logs<span class="w"> </span>svc/event-display<span class="w"> </span><span class="p">|</span><span class="w"> </span>tail<span class="w"> </span>-40
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
â˜ï¸  cloudevents.Event
Validation: valid
Context Attributes,
  specversion: 0.3
  type: seldon.iris-deployment.default.response
  source: seldon.iris-deployment
  id: bee392e0-77cc-44fc-915b-5a08660a1071
  time: 2020-03-27T17:20:42.040931317Z
  datacontenttype: application/json
Extensions,
  knativearrivaltime: 2020-03-27T17:20:42.045829175Z
  knativehistory: default-kne-trigger-kn-channel.default.svc.cluster.local
  path: /api/v1.0/predictions
  traceparent: 00-e01a320040c3f368a14bd3b54c294107-6299f694fefb34b5-00
Data,
  {
    "data": {
      "names": [
        "t:0",
        "t:1",
        "t:2"
      ],
      "ndarray": [
        [
          0.0006985194531162841,
          0.003668039039435755,
          0.9956334415074478
        ]
      ]
    },
    "meta": {}
  }

</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="outlier_combiner.html" title="Seldon deployment of Alibi Outlier detector"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> "Previous" </span> Seldon deployment of Alibi Outlier detector </span>
              </div>
            </a>
          
          
            <a href="cifar10_kafka.html" title="Seldon Kafka Integration Example with CIFAR10 Model"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> "Next" </span> Seldon Kafka Integration Example with CIFAR10 Model </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2024, Seldon Technologies Ltd.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>